<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UME PET em Tons</title>
    <link rel="stylesheet" href="style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=WindSong:wght@400;500&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap" rel="stylesheet">

  <!-- MediaPipe (mantém no head) -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin></script>
</head>
<body>
  <main class="app">
    <header class="app-header">
      <h1><span class="dosis">UME Esmeraldo Tarquínio em </span><b style="color:#ff8c00" class="windsong-medium"><i>Tons</i></b></h1>
		<p class="description">Crie fotos com sua família assim como as da exposição</p>
	  <!--<p class="description">A Biblioteca Escolar quer montar uma grande cartela de cores</p>-->
      <!--<p class="description">Tire uma foto, detectamos o tom da sua pele</p>-->
    </header>

    <section class="card camera-card">
      <div class="camera-top">
        <div class="preview-wrapper">
          <video id="cameraPreview" autoplay playsinline ></video>
          <canvas id="resultPreview" aria-hidden="true"></canvas>
          <div class="nose-indicator" id="noseIndicator" title="Alinhe a ponta do nariz aqui"></div>
        </div>

        <div class="color-info">
          <div class="color-sample" id="colorSample"></div>
          <div class="color-meta">
            <div class="label">Código de cor do tom da sua pele:</div>
            <div class="code" id="colorCode">#------</div>
          </div>
        </div>
      </div>

      <div class="controls">
        <button id="captureBtn" class="btn primary"><i class="fas fa-camera"></i> Tirar Foto</button>
        <div class="action-row">
          <button id="retakeBtn" class="btn" style="display:none"><i class="fas fa-redo"></i> Tirar Outra</button>
          <button id="downloadBtn" class="btn success" style="display:none"><i class="fas fa-download"></i> Baixar</button>
          <button id="uploadGitHubBtn" class="btn github" style="display:none"><i class="fab fa-github"></i> Enviar Cartela de Cores </button>
		  <button id="goGalleryBtn" class="btn primary"><i class="fas fa-images"></i> Ver Cartela de Cores</button>
        </div>
      </div>

      <div id="loading" class="loading" aria-live="polite" style="display:none">
        <div class="spinner"></div>
        <div class="loading-text">Processando imagem...</div>
      </div>

      <div class="instructions">
        <h3>Como usar</h3>
        <ol>
          <li>Procure um local com boa iluminação</li>		
          <li>Permita o acesso à câmera</li>
          <li>Centralize seu rosto e alinhe a ponta do nariz com o círculo</li>
          <li>Clique em "Tirar Foto"</li>
		  <li>Baixe sua foto no celular</li>	
          <!--<li>Baixe ou envie para o a cartela de cores do Projeto</li>-->
        </ol>
		<h3>Observações: </h3>
        <ol>
          <li>A cor detectada pode alterar dependendo:</li>
          <li>Iluminação do local;</li>
          <li>Cor da roupa que está usando;</li>
          <li>Angulo da luz no rosto.</li>
        </ol>
      </div>
    </section>

    <footer class="app-footer">
      <p>Projeto <b class="windsong-medium_2" style="color:#ff8c00"> "Cor de quem?"</b></p>
      <p>Biblioteca Escolar — UME Prefeito Esmeraldo Tarquínio</p>
    </footer>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin></script>
  <script src="script.js"></script>
</body>
</html>
